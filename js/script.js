            var database = $.parseJSON('{"lista":[{"id":"c0","nome":"SalvaTerra","img":"cat_0_salvaterra-bg.jpg","prodotti":[{"id":"p0","titolo":"Amarone","sottotitolo":"Classico Riserva Tufaia D.O.C.G.","codice":"0138197","prezzo":"088","img":"prodotto0.gif","testo":"Vino di gran classe, ottenuto da una particolare, attenta e minuziosa selezione dei migliori grappoli di uva, messi ad appassire su graticci di legno. Viene affinato per due o più anni in grandi botti situate in una grotta di tufo, che agevola lo scambio di umidità tra aria, legno e vino e da cui deriva il nome “Riserva Tufaia”. Affina in bottiglia per almeno otto mesi.","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"Scheda Tecnica Amarone Classico Riserva Tufaia D.O.C.G","path":"documentopath0.pdf"}],"video":[{"nome":"documento0","path":"documentopath0.avi"},{"nome":"documento1","path":"documentopath1.avi"}],"foto":["prodotto0.gif","prodotto1.gif","prodotto2.gif"]},{"id":"p1","titolo":"Amarone","sottotitolo":"Classico D.O.C.G.","codice":"1725953","prezzo":"111","img":"prodotto1.gif","testo":"Vino di gran classe, ottenuto da una particolare, attenta e minuziosa selezione dei migliori grappoli di uva, messi ad appassire su graticci di legno. Viene affinato per due o più anni in grandi botti situate in una grotta di tufo, che agevola lo scambio di umidità tra aria, legno e vino e da cui deriva il nome “Riserva Tufaia”. Affina in bottiglia per almeno otto mesi.","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p2","titolo":"Valpolicella","sottotitolo":"Classico Sup. Ripasso D.O.C.","codice":"2203268","prezzo":"210","img":"prodotto2.gif","testo":"prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0prodotto0","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}],"video":[{"nome":"documento0","path":"documentopath0.avi"},{"nome":"documento1","path":"documentopath1.avi"}],"foto":[{"nome":"documento0","path":"documentopath0.avi"},{"nome":"documento1","path":"documentopath1.avi"}]}]},{"id":"c1","nome":"ST","img":"","prodotti":[{"id":"p0","titolo":"prodotto 0","sottotitolo":"subtitp 0","codice":"0127559","prezzo":"021","img":"prodotto1.jpg","testo":"prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p1","titolo":"prodotto 1","sottotitolo":"subtitp 1","codice":"1144728","prezzo":"115","img":"prodotto1.jpg","testo":"prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p2","titolo":"prodotto 2","sottotitolo":"subtitp 2","codice":"2569856","prezzo":"287","img":"prodotto1.jpg","testo":"prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p3","titolo":"prodotto 3","sottotitolo":"subtitp 3","codice":"3408308","prezzo":"393","img":"prodotto1.jpg","testo":"prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p4","titolo":"prodotto 4","sottotitolo":"subtitp 4","codice":"4145515","prezzo":"414","img":"prodotto1.jpg","testo":"prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1prodotto1","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]}]},{"id":"c2","nome":"AnticaVigna","img":"","prodotti":[{"id":"p0","titolo":"prodotto 0","sottotitolo":"subtitp 0","codice":"0580132","prezzo":"014","img":"prodotto2.jpg","testo":"prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p1","titolo":"prodotto 1","sottotitolo":"subtitp 1","codice":"1166651","prezzo":"111","img":"prodotto2.jpg","testo":"prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p2","titolo":"prodotto 2","sottotitolo":"subtitp 2","codice":"2163241","prezzo":"225","img":"prodotto2.jpg","testo":"prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p3","titolo":"prodotto 3","sottotitolo":"subtitp 3","codice":"3946974","prezzo":"389","img":"prodotto2.jpg","testo":"prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]},{"id":"p4","titolo":"prodotto 4","sottotitolo":"subtitp 4","codice":"4186436","prezzo":"419","img":"prodotto2.jpg","testo":"prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2prodotto2","varianti":[{"label":"275 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"},{"label":"750 ml","vitigno":"Corvina, Corvinone, Rondinella","colore":"colore rubino carico tendente al granato","bouquet":"Etereo, richiama la frutta appassita","gusto":"Speziato, avvolgente, morbido","accostamenti":"Cacciagione, piatti saporiti e formaggi stagionati"}],"documenti":[{"nome":"documento0","path":"documentopath0.pdf"},{"nome":"documento1","path":"documentopath1.pdf"}]}]}]}');

            $.domHooks({
                'body' :function(sel,$body){
    
                    var isiPad = (/iPad/i).test(navigator.userAgent);


                    if ( isiPad ) {
                        $body.addClass('isIpad');
                    }
                    else {
                        $body.addClass('isSmartphone');
                    }
                    

                    //download the productlist NOT IN LOCAL
                    /*
                    $.ajax({
                      url: "./prodotti.json"
                    }).done(function(response) {
                        $body.addClass("done");
                        database = $.parseJSON(response);

                        //after download productlist then i fill the menu
                        var $menuProdotti = $('.menu-prodotti ul');
                        $menuProdotti.html('');


                        $(database.lista).each(function(i,el){
                            $menuProdotti.append('<li><a href="javascript:;" data-target="#category-list" data-cat="'+el.id+'">'+el.nome+'</a></li>');                        

                        });
                    });

                    */

                     $body.addClass("done");
                       

                    //after download productlist then i fill the menu
                    var $menuProdotti = $('.menu-prodotti ul');
                    $menuProdotti.html('');


                    $(database.lista).each(function(i,el){
                        $menuProdotti.append('<li><a href="javascript:;" data-target="#category-list" data-cat="'+el.id+'">'+el.nome+'</a></li>');                        

                    });
                   


                    $(document).on(
                        'click',
                        '.product-listitem li a',
                        function(){

                            loadProdotto($(this).data('cat'),$(this).data('prodotto'));

                            return false;
                        }
                    )

                    $(document).on(
                        'click',
                        '#menu li a',
                        function(){

                            if ( $(this).data('target') != null ) {
                                $('.button-menu').trigger('click');

                                $('.product-listitem-container').removeAttr('style');

                                $('#wrapper').find('.layer-interna-show').removeClass('layer-interna-show');
                                $($(this).data('target')).addClass('layer-interna-show');


                                //fill the category layer
                                if ( $(this).data('cat') != null ) loadListaProdotti($(this).data('cat'));
                            }
                            return false;
                        }
                    )
                    

                    $(document).on(
                        'click',
                        '.prodotto-toolbox li',
                        function(){
                            $productDetail = $('.product-detail');

                            var layerattivo = $productDetail.attr('data-layerattivo');

                            if ( layerattivo!= "" ) $productDetail.removeClass('product-detail-layer-'+layerattivo+'-show');
                            
                            var layer = $(this).attr('class').replace('prodotto-toolbox-','');

                            $productDetail.addClass('product-detail-layer-'+layer+'-show');

                            $productDetail.attr('data-layerAttivo',layer);


                            //active clicked voice
                            $(this).parent().find('.prodotto-toolbox-active').removeClass('prodotto-toolbox-active');
                            $(this).addClass('prodotto-toolbox-active');
                        }
                    )


                    $(document).on(
                        'click',
                        '.accordion-label',
                        function(){
                            $(this).next().slideToggle(function(){
                                $(this).parent().toggleClass('prodotto-accordion-open');
                            });
                        }
                    )

                    $(document).on(
                        'click',
                        '.prodotto-toolbox-foto',
                        function(){
                            

                                window.mySwipe.setup();

                        }
                    )

                },
                '.button-menu': function (selector, $buttonMenu) {
                    var $wrapper = $('#wrapper'),
                        $menu = $('#menu'),
                        menuWidth = $menu.width();

                    $buttonMenu.click(function(){
                        if ( !$wrapper.is(':animated') )  {
                            //if wrapper is not animated 
                            
                            if ( !$('body').hasClass('menu-open') ) {
                                //if menu isn't visible
                                $wrapper.animate({
                                    marginLeft: menuWidth+'px',
                                }, 300, function(){$('body').addClass('menu-open')});

                                $wrapper.find('header').animate({
                                    marginLeft: menuWidth+'px',
                                }, 300, function(){});
                            }
                            else {
                                $('body').removeClass('menu-open')
                                $wrapper.animate({
                                    marginLeft: 0,
                                }, 300, function(){});

                               $wrapper.find('header').animate({
                                    marginLeft: 0,
                                }, 300, function(){});
                            }
                        }
                    }); 
                }
                
            });
            function loadListaProdotti( id ){
                $body = $('body');

                var $menuCategorie = $('.product-listitem');

                $menuCategorie.html('');
                $('.product-detail').removeClass('product-detail-show');

                $(database.lista).each(function(i,el){
                    if ( el.id == id ){

                        $('#category-title').html(el.nome);

                        if ( !$body.hasClass('isSmartphone')  ) $('.list-product').css('background-image','url(img/'+el.img+')');

                        //found the category then print elements

                        $(el.prodotti).each(function(j,menu){

                            $menuCategorie.append('<li class="clearfix">'+
                                '<a href="javascript:;" class="clearfix" data-cat="'+id+'" data-prodotto='+menu.id+'>'+
                                    '<div class="prodotto-img"><img src="img/t_'+menu.img+'" class="" /></div>'+
                                    '<p class="prodotto-titolo">'+menu.titolo+'</p>'+
                                    '<p class="prodotto-sottotitolo">'+menu.sottotitolo+'</p>'+
                                    '<p class="prodotto-codice">'+menu.codice+'</p>'+
                                '</a>'+
                                '<ul class="prodotto-toolbox"><li class="prodotto-toolbox-info">Info</li><li class="prodotto-toolbox-scheda">Scheda</li><li class="prodotto-toolbox-doc">Documenti</li><li class="prodotto-toolbox-video">Video</li><li class="prodotto-toolbox-foto">Foto</li></ul>'+
                            '</li>')
                        });

                    }
                });               

            }
            function loadProdotto( idCat, idProd ){

                //first animation..
                $body = $('body');
                if ( $body.hasClass('isSmartphone') ) {

                    $('.product-listitem-container').animate({
                        marginLeft: "-100%",
                    });

                }
                else {
                    $('.showToolbox').removeClass('showToolbox');
                    $('a[data-prodotto="'+idProd+'"]').parent().addClass('showToolbox');
                }
               
               $(database.lista).each(function(i,el){
                    if ( el.id == idCat ){ //found category then find product
                        $(el.prodotti).each(function(j,prodotto){
                            if ( prodotto.id == idProd ) { //found prodotto
                                $productDetail = $('.product-detail');
                                $productDetailContent = $('.product-detail-content');

                                $productDetailContent.html('');

                                var $prodInfo = $('<div class="product-detail-layer product-detail-layer-info"  />');
                                var $prodScheda = $('<div class="product-detail-layer product-detail-layer-scheda"  />');
                                var $prodDoc = $('<div class="product-detail-layer product-detail-layer-doc"  />');
                                var $prodVideo = $('<div class="product-detail-layer product-detail-layer-video" />');
                                var $prodFoto = $('<div class="product-detail-layer product-detail-layer-foto"  />');


                                $productDetailContent.append('<h1>'+prodotto.titolo+' '+prodotto.sottotitolo+'<div class="prodotto-icona" /></h1>');
                                $productDetailContent.append('<div class="prodotto-img"><img src="img/m_'+prodotto.img+'" /></div>');

                                $productDetailContent.append('<ul class="prodotto-toolbox"><li class="prodotto-toolbox-info">Info</li><li class="prodotto-toolbox-scheda">Scheda</li><li class="prodotto-toolbox-doc">Documenti</li><li class="prodotto-toolbox-video">Video</li><li class="prodotto-toolbox-foto">Foto</li></ul>');


                                //$prodInfo.append('<div class="prodotto-info"><div class="fll-left">'+prodotto.codice+'</div><div class="fll-right">'+prodotto.prezzo+'€</div></div>');

                                $prodInfo.append('<div class="prodotto-testo">'+prodotto.testo+'</div>');

                               

                                $(prodotto.varianti).each(function(i,variante){
                                    var htmlAccordion = $('<div class="accordion-testo"/>');

                                    if ( variante.vitigno ) htmlAccordion.append('<p class="prodotto-vitigno clearfix"><span>Vitigno: </span>'+variante.vitigno+'</p>');
                                    if ( variante.colore )  htmlAccordion.append('<p class="prodotto-colore clearfix"><span>Colore: </span>'+variante.colore+'</p>');
                                    if ( variante.bouquet ) htmlAccordion.append('<p class="prodotto-bouquet clearfix"><span>Bouquet: </span>'+variante.bouquet+'</p>');
                                    if ( variante.gusto ) htmlAccordion.append('<p class="prodotto-gusto clearfix"><span>Gusto: </span>'+variante.gusto+'</p>');
                                    if ( variante.accostamenti ) htmlAccordion.append('<p class="prodotto-accostamenti clearfix"><span>Accostamenti: </span>'+variante.accostamenti+'</p>');

                                    $prodScheda.append('<div class="prodotto-accordion"><a href="javascript:;" class="accordion-label">'+variante.label+'</a>'+htmlAccordion[0].outerHTML+'</div>');

                                });

                                $(prodotto.documenti).each(function(i,doc){

                                    $prodDoc.append('<article class="prodotto-documento"><a href="'+doc.path+'">'+doc.nome+'</a></article>');

                                });

                                $(prodotto.video).each(function(i,video){

                                    $prodVideo.append('<article class="prodotto-documento"><a target="_blank" href="'+video.path+'">'+video.nome+'</a></article>');

                                });

                                var elencofoto = $("<div id='mySwipe' style='' class='swipe'><div class='swipe-wrap'/></div>");
                                var indicator = $('<ul id="position"/>');

                                $(prodotto.foto).each(function(i,foto){

                                    elencofoto.find('.swipe-wrap').append('<div><img src="img/m_'+foto+'" /></div>');
                                    
                                    if ( i == 0) indicator.append('<li class="on"/>');
                                    else indicator.append('<li/>');

                                });

                               

                                $prodFoto.append(elencofoto);
                                $prodFoto.append(indicator);


                                $productDetailContent.append($prodInfo);
                                $productDetailContent.append($prodScheda);
                                $productDetailContent.append($prodDoc);
                                $productDetailContent.append($prodVideo);
                                $productDetailContent.append($prodFoto);

                                if ( !$productDetail.hasClass('product-detail-show')) $productDetail.addClass('product-detail-show');
                                
                                //accendo le info
                                $('.prodotto-toolbox-info').trigger('click');



                                window.mySwipe = $('#mySwipe').Swipe({
                                    callback: function(pos) {
                                        console.log(pos);

                                        $('#position li.on').removeClass('on');

                                        $($('#position li').get(pos)).addClass('on');
                                    }

                                }).data('Swipe')

                            }
                        });
                    }
                })






                

            }